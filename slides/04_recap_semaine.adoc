[%notitle]
== Récap semaine

[%notitle]
=== Semaine 1

image::images/recap_semaine.png[background, size=contain]

[%auto-animate.columns.is-vcentered]
=== Semaine 1
[.column]
Les listes, c'est bien...
[.column]
image::images/leonardo.png[size=contain]

[%auto-animate.columns.is-vcentered]
=== Semaine 1
[.column]
image::images/tom.png[size=contain]
[.column]
...les stream, c'est mieux ! (enfin, parfois)

[.notes]
--
* Liste = simple, connu, attention au collector et aux très grandes collections
* Stream = rapide (multithread mais attention à la ram), pratique (filtres, etc)
* À ne consommer qu'à bon escient !
--

[%notitle]
=== Semaine 2

image::images/recap_semaine.png[background, size=contain]

[%auto-animate.columns.is-vcentered]
=== Semaine 2
.Générer un dump mémoire
[.column.terminal]
****
[source, bash]
----
jmap -dump:[live],format=b,file=<file-path> <pid>

jcmd <pid> GC.heap_dump <file-path>

java -XX:+HeapDumpOnOutOfMemoryError #optionel : -Xmx1g
----
****

[%notitle]
=== Semaine 3

image::images/recap_semaine.png[background, size=contain]

[%notitle.columns.is-vcentered]
=== pg_stat_statements

[.column.is-one-fifth]
image::images/terminal.png[width=50%]

[.column.terminal]
****
[source, bash]
----
sudo vi /etc/postgresql/13/data/postgresql.conf
shared_preload_libraries = 'pg_stat_statements' # (change requires restart)
sudo systemctl restart postgresql-13
psql -U postgres -c "create extension pg_stat_statements;"
psql -U postgres -c "select pg_stat_statements_reset()"
----
****
